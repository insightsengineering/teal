---
title: "Getting Started with teal"
author: "NEST CoreDev"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with teal}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Introduction

`teal` is a shiny-based interactive exploration framework for analyzing data, with particular emphasis on `CDISC` clinical trial data. 
`teal` applications allow their users to:

* "Pull" in data from external data sources
* Dynamically filter of data to be used in the analyses
* Generate reproducible code to regenerate the on-screen analyses
* Create and download reports containing results of analyses (for analysis modules which support reporting)

In addition, the `teal` framework provides application developers with:

* A large suite of custom-made standard analysis modules to be included in applications
* A logging framework to facilitate debugging of applications

More advanced users of the framework can also create new analysis modules which can be added into any `teal` applications.
See the _Creating Custom Modules_ vignette for a brief introduction to creating modules.

## Your first `teal` application:

This simple `teal` application takes the `iris` and `mtcars` datasets and displays their contents:

```{r, message=FALSE}
library(teal)

app <- init(
  data = teal_data(IRIS = iris, MTCARS = mtcars),
  modules = example_module(),
  title = "My first teal application",
  header = h3("My first teal application"),
  footer = div(a("Powered by teal", href = "https://insightsengineering.github.io/teal/latest-tag/"))
)

if (interactive()) {
  shinyApp(app$ui, app$server)
}
```

<img src="images/teal-app-components.svg" alt="Example application" style="width: 100%;"/>

Every `teal` application is composed of following elements, which all can be controlled by app developer by passing arguments to `init` function:

* <span style="color: #9f84ff;">Application Title</span> (browser's tab title): is the title of the application.
* <span style="color: #FB6251;">Application Header and Footer</span> (The top and the bottom of the app): any content to be put on top and on the bottom of the application.
* <span style="color: #3A88FE;">Teal Modules</span> (tabs under the header): tab for each module included in the application. In this case a simple module named "example teal module".
* <span style="color: #96D35F;">Module Content</span> (panel on the middle): The outputs of the module, for this example side bar panel with encodings and module the chosen dataset is displayed.
* <span style="color: #1DC6FC;">Filter Panel</span> (panel on the right hand side): for filtering the data to be passed into all `teal` modules.

## Creating your own applications

To create your `teal` application there is `init` function which requires `data` and `modules` as mandatory arguments.
Other arguments are optional and can be used to customize the application. Please see the documentation for `init` for further details.

### Application data


The `data` argument in the `init` function specifies the data used in your application. All datasets which are about to be used in `teal` application must be passed through `teal_data` object.
It is also possible to specify relationships between the datasets using the `join_keys` argument but in this case the datasets are not related. See [this vignette](including-data-in-teal-applications.html) for details.
If data is not available and has to be pulled from a remote source, `init` must receive a `teal_data_module` that specifies how to obtain the desired datasets and put them into a `teal_data` object.
See [this vignette](data-as-shiny-module.html) for details.

In order to use `CDISC` clinical trial data in a `teal` application the `cdisc_data` function is used instead.

For further details, we recommend exploring the [`teal.data`](https://insightsengineering.github.io/teal.data/) package documentation.

### Modules

The `modules` argument to `init` consists of a list of `teal` modules (which can be wrapped together using the function `modules`). Core `teal` developers created several universal `teal` modules which can be helpful for any `teal` application. See the references below for links to these modules.

### Defining filters

The optional `filter` argument in `init` allows you to initialize the application with predefined filters.
See the documentation for `init` for further details.

### Reporting

If any of the `modules` in your `teal` application support reporting (see [`teal.reporter`](https://insightsengineering.github.io/teal.reporter/) for more details), users of your application can add the outputs of the modules to a report.
This report can then be downloaded and a special _Report Previewer_ module will be added to your application as an additional tab, where users can view and configure their reports before downloading them. See more details in [this vignette](adding-support-for-reporting.html).


### Reproducible code

`teal` hands over data with reproducible code to every module included in the application. `teal` doesn't display the code it is module's responsibility to render it. For example, the `example_module` function used above shows the code
in the main panel together with other outputs. For more details see [this vignette](reproducible-code.html).

## Where to go next

To learn more about the `teal` framework we recommend first exploring some of the available analysis modules.

For example see:

* [general analysis modules](https://insightsengineering.github.io/teal.modules.general/)
* [clinical trial reporting modules](https://insightsengineering.github.io/teal.modules.clinical/)
* [modules for analyzing `MultiAssayExperiment` objects](https://insightsengineering.github.io/teal.modules.hermes/)

The `teal` framework relies on a set of supporting packages whose documentation provides more in-depth information.
The packages which are of most interest when defining `teal`applications are:

* [`teal.data`](https://insightsengineering.github.io/teal.data/): defining data for `teal` application.
* [`teal.slice`](https://insightsengineering.github.io/teal.slice/): defining data filtering before passing into `teal` modules.
