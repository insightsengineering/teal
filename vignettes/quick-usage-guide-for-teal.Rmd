---
title: "Quick usage guide for teal"
author: "NEST CoreDev"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Quick usage guide for teal}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## `init` to initialize your app

The `init` function is the entry point to create a `teal` application.
The main arguments of `init` are `data` and `modules`, which are mandatory. Additionally, the `filter` argument allows the user to specify the default filter state of the filter panel.

* The `data` argument takes a `teal_data` object, please refer to [Including Data in teal Applications vignette](including-data-in-teal-applications.html) to learn more.
* The `modules` argument takes a nested list of `teal_modules` or `teal_module` objects or a single `teal_modules` or `teal_module` object. The packages like [`teal.modules.general`](https://insightsengineering.github.io/teal.modules.general/) or [`teal.modules.clinical`](https://insightsengineering.github.io/teal.modules.clinical/) contain a collection of these modules that can be used in your `teal` application.
* The `filter` argument takes an object of class `teal_slices`, please refer the [Filter Panel vignette](filter-panel.html) to learn more.

## A simple `teal` application:

This simple `teal` application takes the `iris` and `mtcars` datasets and displays their contents:

```{r, eval=FALSE}
library(teal)

app <- init(
  data = teal_data(IRIS = iris, MTCARS = mtcars),
  modules = modules(
    example_module("Module 1")
  ),
  filter = teal_slices(
    teal_slice(dataname = "IRIS", varname = "Species", selected = "setosa")
  )
)

if (interactive()) {
  shinyApp(app$ui, app$server)
}
```

![](./images/teal-app-init.svg)

## Extending the `teal` application

The following functions can be used to extend the `teal` application:

* `modify_title` changes the title that appears in the browser tab.
* `modify_header` adds a header with a button that shows a notification when clicked, also note that the observer for this button was added using the modifier `teal_extend_server`.
* `modify_footer` adds a custom footer.
* `add_landing_modal` adds a landing popup that appears when the application is first loaded. Note app illustration below does not show the popup, but it will appear as soon as the application loads.

```{r, eval=FALSE}
library(teal)

app <- init(
  data = teal_data(IRIS = iris, MTCARS = mtcars),
  modules = modules(
    example_module("Module 1")
  ),
  filter = teal_slices(
    teal_slice(dataname = "IRIS", varname = "Species", selected = "setosa")
  )
) |>
  modify_title(title = "Custom title") |>
  modify_header(
    header = tags$div(h3("Custom header"))
  ) |>
  modify_footer(footer = "Custom footer") |>
  add_landing_modal(title = "Teal", content = "Welcome to my first teal application!")

if (interactive()) {
  shinyApp(app$ui, app$server)
}
```

Here is what the app would look with those modifiers added.

![](./images/teal-app-init-with-modifiers.svg)

