<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="teal">
<title>Modifying a teal application with R options â€¢ teal</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Modifying a teal application with R options">
<meta property="og:description" content="teal">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">teal</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.14.0</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/teal.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/filter-panel.html">Filter Panel</a>
    <a class="dropdown-item" href="../articles/including-general-data-in-teal.html">Input general data in a teal application</a>
    <a class="dropdown-item" href="../articles/including-adam-data-in-teal.html">Input `ADaM` data in a teal application</a>
    <a class="dropdown-item" href="../articles/including-mae-data-in-teal.html">Input `MultiAssayExperiment` data in a teal application</a>
    <a class="dropdown-item" href="../articles/preprocessing-data.html">Preprocessing data</a>
    <a class="dropdown-item" href="../articles/creating-custom-modules.html">Creating Custom Modules</a>
    <a class="dropdown-item" href="../articles/adding-support-for-reporting.html">Adding support for Reporting to custom modules</a>
    <a class="dropdown-item" href="../articles/teal-options.html">Modifying a teal application with R options</a>
    <a class="dropdown-item" href="../articles/teal-bs-themes.html">teal and Bootstrap Themes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>

<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="../coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="../unit-test-report/">Unit test report</a>
  </div>
</li>
      <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/release-candidate">release-candidate</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v1.0.0">v1.0.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v1.0.0-rc1">v1.0.0-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.16.0">v0.16.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.16.0-rc2">v0.16.0-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.16.0-rc1">v0.16.0-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.15.2">v0.15.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.15.2-rc1">v0.15.2-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.15.1">v0.15.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.15.1-rc1">v0.15.1-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.15.0">v0.15.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.15.0-rc1">v0.15.0-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.14.0">v0.14.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.13.0">v0.13.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal/v0.12.0">v0.12.0</a>
</div>
</li>
</ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/teal">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Modifying a teal application with R options</h1>
                        <h4 data-toc-skip class="author">PaweÅ‚
Rucki</h4>
            
            <h4 data-toc-skip class="date">2021-12-23</h4>
      
      
      <div class="d-none name"><code>teal-options.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>Some <code>R</code> packages use <code>options</code> to modify their
runtime behavior. These usually specify default values for internal
functions or determine responses to users actions. For example,
<code>testthat</code> uses an option
<code>testthat.progress.max_fails</code> to define a default number of
failed expectations before the testing functions terminate execution.
While some of these adjustable values can be exposed as function
parameters, some are destined to remain an option. This vignette details
the options available to users of <code>teal</code>,
<code>teal.logger</code>, <code>teal.widgets</code>,
<code>teal.modules.general</code>,
<code>teal.modules.clinical</code>.</p>
</div>
<div class="section level2">
<h2 id="setting-an-option">Setting an option<a class="anchor" aria-label="anchor" href="#setting-an-option"></a>
</h2>
<p>At any time during an interactive session, you can change an option
using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>option_to_set <span class="op">=</span> <span class="st">"value"</span><span class="op">)</span></span></code></pre></div>
<p>A way to change options for only the execution of a specific block of
code is with the <code>withr</code> package like so:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_options.html" class="external-link">with_options</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pi</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 3.14</span></span></code></pre>
<p>After the line above is run the option, <code>digits</code>, will go
back to its value before the line was run.</p>
<p>The function <code>getOption</code> allows to inspect the value of an
option:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"option_to_set"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "value"</span></span></code></pre>
<p>Once set, the value of an option persists during a session, but it
returns to the default value in a new session. Make sure to change the
options after all the <code>teal</code>-related packages are loaded
because some of them initialize the options themselves and will
overwrite your custom values.</p>
</div>
<div class="section level2">
<h2 id="options-used-in-a-teal-application">Options used in a <code>teal</code> application<a class="anchor" aria-label="anchor" href="#options-used-in-a-teal-application"></a>
</h2>
<div class="section level4">
<h4 id="teal-log_layout-character">
<code>teal.log_layout</code> (<code>character</code>)<a class="anchor" aria-label="anchor" href="#teal-log_layout-character"></a>
</h4>
<p>This defines the layout of a log message used in a <code>teal</code>
application. <code>teal</code> uses this layout to format the emitted
log messages. Read the documentation of
<code><a href="https://rdrr.io/pkg/teal.logger/man/register_logger.html" class="external-link">teal.logger::register_logger</a></code> for more information.</p>
<p>Default:
<code>"[{level}] {format(time, \"%Y-%m-%d %H:%M:%OS4\")} pid:{pid} token:[{token}] {ans} {msg}"</code>.</p>
<p>Note that this layout is formatted by the package
<code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue</a></code>.</p>
</div>
<div class="section level4">
<h4 id="teal-log_level-character">
<code>teal.log_level</code> (<code>character</code>)<a class="anchor" aria-label="anchor" href="#teal-log_level-character"></a>
</h4>
<p>This is the logging level threshold used in a <code>teal</code>
application. A <code>teal</code> application will not emit logs below
this level. Read the documentation of
<code><a href="https://rdrr.io/pkg/teal.logger/man/register_logger.html" class="external-link">teal.logger::register_logger</a></code> for more information. Possible
values: <code>"TRACE"</code>, <code>"INFO"</code>,
<code>"WARNING"</code>, <code>"ERROR"</code>. See the documentation of
<code><a href="https://daroczig.github.io/logger/reference/log_levels.html" class="external-link">logger::TRACE</a></code> for all possible values of logging threshold
and more information on what it does.</p>
<p>Default: <code>"INFO"</code>.</p>
<p>Note that there are two levels considered less severe than
<code>"INFO"</code>: <code>"DEBUG"</code> and <code>"TRACE"</code>. In
order to see the log messages for these two levels as well, change the
log level from the default to <code>"TRACE"</code>, the least severe log
level.</p>
</div>
<div class="section level4">
<h4 id="teal_logging">
<code>teal_logging</code><a class="anchor" aria-label="anchor" href="#teal_logging"></a>
</h4>
<p>Deprecated.</p>
</div>
<div class="section level4">
<h4 id="teal_show_js_log">
<code>teal_show_js_log</code><a class="anchor" aria-label="anchor" href="#teal_show_js_log"></a>
</h4>
<p>Deprecated in favor of <code>teal.show_js_log</code> (see below).</p>
</div>
<div class="section level4">
<h4 id="teal-show_js_log-logical">
<code>teal.show_js_log</code> (<code>logical</code>)<a class="anchor" aria-label="anchor" href="#teal-show_js_log-logical"></a>
</h4>
<p>This indicates whether to print the <code>JavaScript</code> console
logs to the <code>R</code> console. If set to <code>TRUE</code>, the
logs will be printed; otherwise, they wonâ€™t.</p>
<p>Default: <code>FALSE</code>.</p>
</div>
<div class="section level4">
<h4 id="teal-threshold_slider_vs_checkboxgroup-numeric">
<code>teal.threshold_slider_vs_checkboxgroup</code>
(<code>numeric</code>)<a class="anchor" aria-label="anchor" href="#teal-threshold_slider_vs_checkboxgroup-numeric"></a>
</h4>
<p>It is the threshold that determines if a numeric variable is treated
as a factor in the filter panel. If the number of unique values of a
numeric variable is less than this threshold this variable will be
treated as a factor instead of a numeric one. As an example, imagine
<code>teal.threshold_slider_vs_checkboxgroup</code> equals to 2. Then a
numeric variable <code>c(1, 1, 1)</code>, which has only one unique
value (a digit <code>1</code>), is treated as a factor in the filter
panel (and in the filter panel only!). The filter panel creates a
checkbox widget to filter values from this variable, as it would for a
factor variable, instead of a usual slider widget for numeric
variables.</p>
<p>Default: 5.</p>
</div>
<div class="section level4">
<h4 id="teal-load_nest_code-character">
<code>teal.load_nest_code</code> (<code>character</code>)<a class="anchor" aria-label="anchor" href="#teal-load_nest_code-character"></a>
</h4>
<p>The value of this option is appended to the top of the code rendered
when using the <code>Show R Code</code> modal button. See the
documentation of <code>teal::get_rcode</code> for more information.</p>
<p>Default:
<code>"# Add any code to install/load your NEST environment here"</code>.</p>
</div>
<div class="section level3">
<h3 id="teal-widgets-package">
<code>teal.widgets</code> package<a class="anchor" aria-label="anchor" href="#teal-widgets-package"></a>
</h3>
<div class="section level4">
<h4 id="teal-basic_table_args-basic_table_args-object">
<code>teal.basic_table_args</code> (<code>basic_table_args</code>
object)<a class="anchor" aria-label="anchor" href="#teal-basic_table_args-basic_table_args-object"></a>
</h4>
<p>This specifies the list of arguments passed to every call to
<code><a href="https://rdrr.io/pkg/rtables/man/basic_table.html" class="external-link">rtables::basic_table</a></code> made in a <code>teal</code>
application. This can be used to format <code>rtables</code> without
making any changes to the application code. See the documentation of
<code><a href="https://rdrr.io/pkg/teal.widgets/man/basic_table_args.html" class="external-link">teal.widgets::basic_table_args</a></code> for more information.</p>
<p>Default: <code><a href="https://rdrr.io/pkg/teal.widgets/man/basic_table_args.html" class="external-link">teal.widgets::basic_table_args()</a></code>.</p>
</div>
<div class="section level4">
<h4 id="teal-ggplot2_args-ggplot2_args-object">
<code>teal.ggplot2_args</code> (<code>ggplot2_args</code>
object)<a class="anchor" aria-label="anchor" href="#teal-ggplot2_args-ggplot2_args-object"></a>
</h4>
<p>This option allows modifying labels and themes of all
<code>ggplot2</code> plots in a <code>teal</code> application. See the
documentation of <code><a href="https://rdrr.io/pkg/teal.widgets/man/ggplot2_args.html" class="external-link">teal.widgets::ggplot2_args</a></code> for more
information.</p>
<p>Default: <code><a href="https://rdrr.io/pkg/teal.widgets/man/ggplot2_args.html" class="external-link">teal.widgets::ggplot2_args()</a></code>.</p>
</div>
<div class="section level4">
<h4 id="teal-plot_dpi-integer-value-24-or-larger">
<code>teal.plot_dpi</code> (integer value 24 or larger)<a class="anchor" aria-label="anchor" href="#teal-plot_dpi-integer-value-24-or-larger"></a>
</h4>
<p>This option controls the dots per inch of the graphs rendered and
downloaded when using <code>plot_with_settings</code>.</p>
<p>Default: 72</p>
</div>
<div class="section level4">
<h4 id="teal-bs_theme-bslibbs_theme-object">
<code>teal.bs_theme</code> (<code>bslib::bs_theme</code>
object)<a class="anchor" aria-label="anchor" href="#teal-bs_theme-bslibbs_theme-object"></a>
</h4>
<p>This option controls the bootstrap theme and version used in the teal
apps. Achieve better UX with the customized UI of an app. Please visit
the <code><a href="../articles/teal-bs-themes.html">vignette("teal-bs-themes", package = "teal")</a></code> to read
more about the functionality.</p>
<p>Default: <code>NULL</code></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>teal is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>

  

  

  </body>
</html>
